# ====================== Database Connection Configuration ======================
# Inceptor/Hive JDBC URL format: jdbc:hive2://host:port/database
jdbc.url=jdbc:hive2://your-host:10000/default;transaction.type=inceptor;hive.server2.idle.session.timeout=64800000;hive.server2.idle.operation.timeout=3600000
# JDBC driver class name, use Hive JDBC driver for Inceptor or Hive
jdbc.driver=org.apache.hive.jdbc.HiveDriver
# Database username
jdbc.username=your_username
# Database password
jdbc.password=your_password

# ====================== Target Table Configuration ======================
# Target table name for storing statistics, format: database.table
inceptor.target.table.name=default.inceptor_stats_result_table

# ====================== Concurrency Configuration ======================
# Number of concurrent worker threads for executing ANALYZE commands, default: 10
concurrency.level=10

# ====================== Statistics Level Configuration ======================
# Statistics level: partition (partition-level, default) or table (table-level)
# partition: Collect statistics for both table-level and all partition-level
# table: Only collect table-level aggregated statistics (exclude partition information)
analyze.level=partition

# ====================== Batch Configuration ======================
# Batch size for writing statistics to target table
batch.size=500
# Result queue capacity, recommended: 4-10 times of batch.size
result.queue.capacity=2000

# ====================== Query SQL Configuration ======================
# SQL query for getting table list from system.tables_v
# Exclude certain table types by adding them to NOT IN clause, e.g., hyperbase tables
table.query.sql=SELECT CONCAT(database_name,'.',table_name) \
  FROM system.tables_v \
  WHERE table_format NOT IN ('io.transwarp.scope.ScopeInputFormat','io.transwarp.hyper2drive.HyperdriveInputFormat','hbase','hyperdrive','org.apache.hadoop.hive.ql.io.tdt.refactor.JDBCDBInputFormat') \
    AND database_name not in ('system')

# ====================== Task Queue Configuration ======================
# Task queue capacity for ANALYZE commands
task.queue.capacity=100000
# Page size for pagination query from system.tables_v
page.size=1000

# ====================== Timeout Configuration ======================
# Timeout for waiting all analysis tasks to complete (in hours), default: 2
analysis.task.timeout.hours=2
# Timeout for waiting batch writer thread to complete (in minutes), default: 30
batch.writer.timeout.minutes=30

# ====================== Execution Status Table Configuration ======================
# Execution status table name for tracking table processing status
# Format: database.table (e.g., default.inceptor_execution_status_table)
# This table stores: uuid (unique id), table_name, flag (1=completed, 0=pending), exe_date (execution date)
# When program starts, it queries this table for pending tasks (flag=0) for current date
# If no pending tasks found, it initializes the table with all tables (flag=0)
# After successfully writing statistics to target table, flag is updated to 1
execution.status.table=default.inceptor_execution_status_table
