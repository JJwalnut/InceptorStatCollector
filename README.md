# InceptorStatCollector

ç”¨äºŽæ”¶é›† Inceptorï¼ˆç±» Hiveï¼‰æ•°æ®åº“ä¸­è¡¨ç»Ÿè®¡ä¿¡æ¯çš„å·¥å…·ã€‚é€šè¿‡å¹¶å‘æ–¹å¼æ‰§è¡Œ ANALYZE å‘½ä»¤èŽ·å–è¡¨ç»Ÿè®¡ä¿¡æ¯ï¼ˆåŒ…æ‹¬è®°å½•æ•°ã€æ–‡ä»¶æ•°ã€æ•°æ®å¤§å°ç­‰ï¼‰ï¼Œå¹¶å°†ç»“æžœæ‰¹é‡å†™å…¥ç›®æ ‡è¡¨ä¸­ã€‚

## åŠŸèƒ½ç‰¹æ€§

- âœ… **è‡ªåŠ¨å‘çŽ°è¡¨**ï¼šä»Ž `system.tables_v` ç³»ç»Ÿè¡¨è‡ªåŠ¨æŸ¥è¯¢éœ€è¦ç»Ÿè®¡çš„è¡¨
- âœ… **å¹¶å‘æ‰§è¡Œ**ï¼šæ”¯æŒå¤šçº¿ç¨‹å¹¶å‘æ‰§è¡Œ ANALYZE å‘½ä»¤ï¼Œæé«˜æ•ˆçŽ‡
- âœ… **æ‰¹é‡å†™å…¥**ï¼šä½¿ç”¨æ‰¹é‡æ’å…¥å’Œäº‹åŠ¡ç®¡ç†ï¼Œä¼˜åŒ–å†™å…¥æ€§èƒ½
- âœ… **åˆ†é¡µåŠ è½½**ï¼šä½¿ç”¨ ROW_NUMBER() çª—å£å‡½æ•°å®žçŽ°åˆ†é¡µï¼Œé¿å…ä¸€æ¬¡æ€§åŠ è½½è¿‡å¤šæ•°æ®
- âœ… **å¼‚å¸¸å¤„ç†**ï¼šå®Œå–„çš„å¼‚å¸¸å¤„ç†æœºåˆ¶ï¼Œå•ä¸ªè¡¨å¤±è´¥ä¸å½±å“æ•´ä½“æµç¨‹
- âœ… **è¿žæŽ¥æ± ç®¡ç†**ï¼šä½¿ç”¨ HikariCP è¿žæŽ¥æ± ï¼Œåˆ†ç¦»åˆ†æžå’Œå†™å…¥è¿žæŽ¥æ± 
- âœ… **è¯¦ç»†æ—¥å¿—**ï¼šæä¾›è¯¦ç»†çš„æ‰§è¡Œæ—¥å¿—ï¼ŒåŒ…æ‹¬å¯åŠ¨é…ç½®ã€ä»»åŠ¡è¿›åº¦ã€ç»Ÿè®¡ä¿¡æ¯ç­‰ï¼Œæ‰€æœ‰æ—¥å¿—å‡ä¸ºè‹±æ–‡ï¼Œé¿å…ä¹±ç é—®é¢˜

## æ”¶é›†çš„ç»Ÿè®¡ä¿¡æ¯

- `numFiles`ï¼šæ–‡ä»¶æ•°é‡
- `numRows`ï¼šè®°å½•æ•°ï¼ˆè¡Œæ•°ï¼‰
- `totalSize`ï¼šæ€»å¤§å°ï¼ˆå­—èŠ‚ï¼‰
- `rawDataSize`ï¼šåŽŸå§‹æ•°æ®å¤§å°ï¼ˆå­—èŠ‚ï¼‰

## ç³»ç»Ÿè¦æ±‚

- Java 8 æˆ–æ›´é«˜ç‰ˆæœ¬
- Maven 3.x
- Inceptor/Hive æ•°æ®åº“è®¿é—®æƒé™
- èƒ½å¤Ÿæ‰§è¡Œ ANALYZE TABLE å‘½ä»¤çš„æƒé™

## é¡¹ç›®ç»“æž„

### å¼€å‘ç›®å½•ç»“æž„ï¼ˆæºä»£ç ï¼‰

```
InceptorStatCollector/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main/
â”‚   â”‚   â”œâ”€â”€ java/io/transwarp/
â”‚   â”‚   â”‚   â”œâ”€â”€ InceptorStatCollector.java    # ä¸»ç¨‹åºç±»
â”‚   â”‚   â”‚   â””â”€â”€ ConfigUtil.java                # é…ç½®å·¥å…·ç±»
â”‚   â”‚   â””â”€â”€ resources/
â”‚   â”‚       â”œâ”€â”€ config.properties              # é…ç½®æ–‡ä»¶æ¨¡æ¿
â”‚   â”‚       â””â”€â”€ log4j.properties               # æ—¥å¿—é…ç½®æ–‡ä»¶
â”‚   â””â”€â”€ test/                                 # æµ‹è¯•ä»£ç ç›®å½•
â”œâ”€â”€ bin/                                      # å¯åŠ¨è„šæœ¬ç›®å½•
â”‚   â”œâ”€â”€ start.sh                              # Linux/Mac å¯åŠ¨è„šæœ¬
â”‚   â””â”€â”€ start.bat                             # Windows å¯åŠ¨è„šæœ¬
â”œâ”€â”€ libs/                                     # ä¾èµ–jaråŒ…ç›®å½•ï¼ˆå¼€å‘ç”¨ï¼‰
â”‚   â””â”€â”€ inceptor-driver-8.37.3.jar            # Inceptor JDBC é©±åŠ¨
â”œâ”€â”€ conf/                                     # é…ç½®æ–‡ä»¶ç›®å½•ï¼ˆæ‰“åŒ…åŽè‡ªåŠ¨åˆ›å»ºï¼‰
â”‚   â””â”€â”€ config.properties                     # è¿è¡Œæ—¶é…ç½®æ–‡ä»¶
â”œâ”€â”€ pom.xml                                   # Maven é¡¹ç›®é…ç½®æ–‡ä»¶
â””â”€â”€ README.md                                 # é¡¹ç›®è¯´æ˜Žæ–‡æ¡£
```

### éƒ¨ç½²ç›®å½•ç»“æž„ï¼ˆæ‰“åŒ…åŽï¼‰

è¿è¡Œ `mvn clean package` åŽï¼Œé¡¹ç›®ç›®å½•ç»“æž„å¦‚ä¸‹ï¼š

```
InceptorStatCollector/
â”œâ”€â”€ bin/                                      # å¯åŠ¨è„šæœ¬ç›®å½•
â”‚   â”œâ”€â”€ start.sh                              # Linux/Mac å¯åŠ¨è„šæœ¬
â”‚   â””â”€â”€ start.bat                             # Windows å¯åŠ¨è„šæœ¬
â”œâ”€â”€ libs/                                     # æ‰€æœ‰jaråŒ…ç›®å½•ï¼ˆå¿…éœ€ï¼‰
â”‚   â”œâ”€â”€ InceptorStatCollector-1.0-SNAPSHOT.jar  # ä¸»ç¨‹åºjaråŒ…
â”‚   â”œâ”€â”€ inceptor-driver-8.37.3.jar            # Inceptor JDBC é©±åŠ¨
â”‚   â”œâ”€â”€ HikariCP-3.4.5.jar                   # æ•°æ®åº“è¿žæŽ¥æ± 
â”‚   â”œâ”€â”€ log4j-1.2.17.jar                     # æ—¥å¿—å®žçŽ°
â”‚   â”œâ”€â”€ slf4j-api-1.7.25.jar                 # æ—¥å¿—API
â”‚   â””â”€â”€ slf4j-log4j12-1.7.25.jar             # SLF4Jç»‘å®š
â””â”€â”€ conf/                                     # é…ç½®æ–‡ä»¶ç›®å½•ï¼ˆå¿…éœ€ï¼‰
    â””â”€â”€ config.properties                     # æ•°æ®åº“è¿žæŽ¥å’Œè¿è¡Œå‚æ•°é…ç½®
```

### ç›®å½•è¯¦ç»†è¯´æ˜Ž

#### ðŸ“ `bin/` - å¯åŠ¨è„šæœ¬ç›®å½•

åŒ…å«ç”¨äºŽå¯åŠ¨ç¨‹åºçš„è„šæœ¬æ–‡ä»¶ï¼š

| æ–‡ä»¶ | å¹³å° | è¯´æ˜Ž |
|------|------|------|
| `start.sh` | Linux/Mac | Bashè„šæœ¬ï¼Œè‡ªåŠ¨è®¾ç½®UTF-8ç¼–ç çŽ¯å¢ƒå˜é‡å’ŒJavaå‚æ•° |
| `start.bat` | Windows | æ‰¹å¤„ç†è„šæœ¬ï¼Œè‡ªåŠ¨è®¾ç½®æŽ§åˆ¶å°ä»£ç é¡µä¸ºUTF-8 |

**å¯åŠ¨è„šæœ¬åŠŸèƒ½ï¼š**
- âœ… è‡ªåŠ¨æ£€æŸ¥é…ç½®æ–‡ä»¶æ˜¯å¦å­˜åœ¨
- âœ… è‡ªåŠ¨æ£€æŸ¥jaråŒ…æ˜¯å¦å­˜åœ¨
- âœ… è‡ªåŠ¨æž„å»ºclasspathï¼ˆåŒ…å«libsç›®å½•ä¸‹æ‰€æœ‰jaråŒ…ï¼‰
- âœ… è®¾ç½®UTF-8ç¼–ç ï¼Œè§£å†³ä¸­æ–‡ä¹±ç é—®é¢˜
- âœ… è®¾ç½®Javaè¿è¡Œæ—¶å‚æ•°ï¼ˆ`-Dfile.encoding=UTF-8`ç­‰ï¼‰

**ä½¿ç”¨æ–¹æ³•ï¼š**
```bash
# Linux/Mac
chmod +x bin/start.sh
bin/start.sh

# Windows
bin\start.bat
```

#### ðŸ“ `libs/` - ä¾èµ–jaråŒ…ç›®å½•

åŒ…å«ç¨‹åºè¿è¡Œæ‰€éœ€çš„æ‰€æœ‰jaråŒ…ï¼š

| æ–‡ä»¶ | è¯´æ˜Ž | ç‰ˆæœ¬ |
|------|------|------|
| `InceptorStatCollector-1.0-SNAPSHOT.jar` | ä¸»ç¨‹åºjaråŒ… | 1.0-SNAPSHOT |
| `inceptor-driver-8.37.3.jar` | Inceptor JDBCé©±åŠ¨ | 8.37.3 |
| `HikariCP-3.4.5.jar` | æ•°æ®åº“è¿žæŽ¥æ±  | 3.4.5 |
| `log4j-1.2.17.jar` | æ—¥å¿—å®žçŽ° | 1.2.17 |
| `slf4j-api-1.7.25.jar` | æ—¥å¿—API | 1.7.25 |
| `slf4j-log4j12-1.7.25.jar` | SLF4Jç»‘å®š | 1.7.25 |

**æ³¨æ„äº‹é¡¹ï¼š**
- âš ï¸ æ‰€æœ‰jaråŒ…å¿…é¡»æ”¾åœ¨ `libs/` ç›®å½•ä¸‹
- âš ï¸ å¯åŠ¨è„šæœ¬ä¼šè‡ªåŠ¨æ‰«æ `libs/` ç›®å½•ä¸‹çš„æ‰€æœ‰jaråŒ…å¹¶æ·»åŠ åˆ°classpath
- âš ï¸ å¦‚æžœç¼ºå°‘jaråŒ…ï¼Œç¨‹åºå°†æ— æ³•å¯åŠ¨

#### ðŸ“ `conf/` - é…ç½®æ–‡ä»¶ç›®å½•

åŒ…å«ç¨‹åºè¿è¡Œæ—¶æ‰€éœ€çš„é…ç½®æ–‡ä»¶ï¼š

| æ–‡ä»¶ | è¯´æ˜Ž | å¿…éœ€ |
|------|------|------|
| `config.properties` | æ•°æ®åº“è¿žæŽ¥å’Œè¿è¡Œå‚æ•°é…ç½® | âœ… æ˜¯ |

**é…ç½®æ–‡ä»¶è¯´æ˜Žï¼š**

`config.properties` åŒ…å«ä»¥ä¸‹é…ç½®é¡¹ï¼š

**æ•°æ®åº“è¿žæŽ¥é…ç½®ï¼š**
```properties
jdbc.url=jdbc:hive2://host:port/database;transaction.type=inceptor;...
jdbc.driver=org.apache.hive.jdbc.HiveDriver
jdbc.username=your_username
jdbc.password=your_password
```

**ç›®æ ‡è¡¨é…ç½®ï¼š**
```properties
inceptor.target.table.name=default.inceptor_stats_result_table
```

**æ€§èƒ½å‚æ•°é…ç½®ï¼š**
```properties
concurrency.level=10          # å¹¶å‘å·¥ä½œçº¿ç¨‹æ•°
batch.size=500                # æ‰¹é‡å†™å…¥å¤§å°
result.queue.capacity=2000    # ç»“æžœé˜Ÿåˆ—å®¹é‡
page.size=1000                # åˆ†é¡µæŸ¥è¯¢å¤§å°
task.queue.capacity=100000    # ä»»åŠ¡é˜Ÿåˆ—å®¹é‡
```

**æŸ¥è¯¢SQLé…ç½®ï¼š**
```properties
table.query.sql=SELECT CONCAT(database_name,'.',table_name) FROM system.tables_v WHERE ...
```

**é…ç½®æ–‡ä»¶åŠ è½½é¡ºåºï¼š**
1. **ä¼˜å…ˆ**ï¼š`conf/config.properties`ï¼ˆå¤–éƒ¨é…ç½®æ–‡ä»¶ï¼ŒæŽ¨èï¼‰
2. **å¤‡é€‰**ï¼šjaråŒ…å†…éƒ¨çš„ `config.properties`ï¼ˆæ‰“åŒ…æ—¶åŒ…å«çš„é»˜è®¤é…ç½®ï¼‰

å¦‚æžœå¤–éƒ¨é…ç½®æ–‡ä»¶å­˜åœ¨ï¼Œä¼šä¼˜å…ˆä½¿ç”¨å¤–éƒ¨é…ç½®ï¼›å¦‚æžœä¸å­˜åœ¨ï¼Œåˆ™ä½¿ç”¨jaråŒ…å†…éƒ¨çš„é»˜è®¤é…ç½®ã€‚

**é…ç½®æ–‡ä»¶ä½ç½®ï¼š**
- æ‰“åŒ…æ—¶ï¼Œ`src/main/resources/config.properties` ä¼šè‡ªåŠ¨å¤åˆ¶åˆ° `conf/config.properties`
- å¯ä»¥ç›´æŽ¥ç¼–è¾‘ `conf/config.properties` è¿›è¡Œé…ç½®
- ä¿®æ”¹é…ç½®æ–‡ä»¶åŽæ— éœ€é‡æ–°æ‰“åŒ…ï¼Œç›´æŽ¥é‡å¯ç¨‹åºå³å¯ç”Ÿæ•ˆ

### ç›®å½•åˆ›å»ºè¯´æ˜Ž

**æ‰“åŒ…åŽè‡ªåŠ¨åˆ›å»ºï¼š**
- `conf/` ç›®å½•ä¼šåœ¨æ‰“åŒ…æ—¶è‡ªåŠ¨åˆ›å»º
- `conf/config.properties` ä¼šåœ¨æ‰“åŒ…æ—¶ä»Ž `src/main/resources/config.properties` å¤åˆ¶

**æ‰‹åŠ¨åˆ›å»ºï¼ˆå¦‚æžœéœ€è¦ï¼‰ï¼š**
```bash
# Linux/Mac
mkdir -p conf bin libs

# Windows
mkdir conf bin libs
```

### ç›®å½•ç»“æž„æ€»ç»“

| ç›®å½• | å¿…éœ€ | è¯´æ˜Ž | åˆ›å»ºæ–¹å¼ |
|------|------|------|----------|
| `bin/` | âœ… æ˜¯ | å¯åŠ¨è„šæœ¬ç›®å½•ï¼ŒåŒ…å« `start.sh` å’Œ `start.bat` | æºä»£ç ä¸­å·²å­˜åœ¨ |
| `libs/` | âœ… æ˜¯ | æ‰€æœ‰jaråŒ…ç›®å½•ï¼ŒåŒ…å«ä¸»ç¨‹åºå’Œæ‰€æœ‰ä¾èµ– | `mvn package` è‡ªåŠ¨åˆ›å»º |
| `conf/` | âœ… æ˜¯ | é…ç½®æ–‡ä»¶ç›®å½•ï¼ŒåŒ…å« `config.properties` | `mvn package` è‡ªåŠ¨åˆ›å»º |

**é‡è¦æç¤ºï¼š**
- âš ï¸ è¿è¡Œç¨‹åºå‰ï¼Œå¿…é¡»ç¡®ä¿ `bin/`ã€`libs/`ã€`conf/` ä¸‰ä¸ªç›®å½•éƒ½å­˜åœ¨
- âš ï¸ `libs/` ç›®å½•å¿…é¡»åŒ…å«æ‰€æœ‰å¿…éœ€çš„jaråŒ…ï¼ˆåŒ…æ‹¬ `inceptor-driver-8.37.3.jar`ï¼‰
- âš ï¸ `conf/config.properties` å¿…é¡»å­˜åœ¨ä¸”é…ç½®æ­£ç¡®
- âœ… ä½¿ç”¨å¯åŠ¨è„šæœ¬ï¼ˆ`bin/start.sh` æˆ– `bin/start.bat`ï¼‰ä¼šè‡ªåŠ¨æ£€æŸ¥è¿™äº›è¦æ±‚

## å¿«é€Ÿå¼€å§‹

### 1. æ‰“åŒ…é¡¹ç›®

```bash
mvn clean package
```

æ‰“åŒ…å®ŒæˆåŽï¼ŒMavenä¼šè‡ªåŠ¨ï¼š
- âœ… ç¼–è¯‘æºä»£ç å¹¶ç”Ÿæˆ `target/InceptorStatCollector-1.0-SNAPSHOT.jar`
- âœ… å¤åˆ¶æ‰€æœ‰ä¾èµ–jaråŒ…åˆ° `libs/` ç›®å½•
- âœ… å¤åˆ¶ä¸»ç¨‹åºjaråŒ…åˆ° `libs/` ç›®å½•
- âœ… åˆ›å»º `conf/` ç›®å½•å¹¶å¤åˆ¶é…ç½®æ–‡ä»¶æ¨¡æ¿åˆ° `conf/config.properties`

**æ‰“åŒ…åŽçš„ç›®å½•ç»“æž„ï¼š**
```
InceptorStatCollector/
â”œâ”€â”€ bin/                    # å¯åŠ¨è„šæœ¬ï¼ˆå·²å­˜åœ¨ï¼‰
â”œâ”€â”€ libs/                   # æ‰€æœ‰jaråŒ…ï¼ˆæ‰“åŒ…åŽè‡ªåŠ¨ç”Ÿæˆï¼‰
â”‚   â”œâ”€â”€ InceptorStatCollector-1.0-SNAPSHOT.jar
â”‚   â”œâ”€â”€ inceptor-driver-8.37.3.jar
â”‚   â”œâ”€â”€ HikariCP-3.4.5.jar
â”‚   â”œâ”€â”€ log4j-1.2.17.jar
â”‚   â”œâ”€â”€ slf4j-api-1.7.25.jar
â”‚   â””â”€â”€ slf4j-log4j12-1.7.25.jar
â””â”€â”€ conf/                   # é…ç½®æ–‡ä»¶ï¼ˆæ‰“åŒ…åŽè‡ªåŠ¨ç”Ÿæˆï¼‰
    â””â”€â”€ config.properties
```

### 2. é…ç½®æ•°æ®åº“è¿žæŽ¥

**é‡è¦**ï¼šé…ç½®æ–‡ä»¶æ”¯æŒä¸¤ç§æ–¹å¼ï¼š

#### æ–¹å¼ä¸€ï¼šå¤–éƒ¨é…ç½®æ–‡ä»¶ï¼ˆæŽ¨èï¼‰

**å‰ç½®æ¡ä»¶ï¼š**
- âš ï¸ Inceptor JDBCé©±åŠ¨ `inceptor-driver-8.37.3.jar` éœ€è¦æå‰è‡ªè¡Œæ”¾åˆ° `libs/` ç›®å½•ä¸‹
- âœ… æ‰“åŒ…æ—¶ï¼Œ`conf/config.properties` ä¼šè‡ªåŠ¨åˆ›å»º

**é…ç½®æ–‡ä»¶ä½ç½®ï¼š**
```
InceptorStatCollector/
â”œâ”€â”€ bin/
â”‚   â”œâ”€â”€ start.sh
â”‚   â””â”€â”€ start.bat
â”œâ”€â”€ libs/
â”‚   â”œâ”€â”€ InceptorStatCollector-1.0-SNAPSHOT.jar
â”‚   â”œâ”€â”€ inceptor-driver-8.37.3.jar    â† éœ€è¦æ‰‹åŠ¨æ”¾ç½®
â”‚   â””â”€â”€ (å…¶ä»–ä¾èµ–jaråŒ…)
â””â”€â”€ conf/
    â””â”€â”€ config.properties              â† å¤–éƒ¨é…ç½®æ–‡ä»¶ï¼ˆæŽ¨èï¼‰
```

**ä¼˜ç‚¹**ï¼š
- âœ… ä¿®æ”¹é…ç½®æ— éœ€é‡æ–°æ‰“åŒ…
- âœ… ä¸åŒçŽ¯å¢ƒå¯ä»¥ä½¿ç”¨ä¸åŒé…ç½®æ–‡ä»¶
- âœ… é…ç½®ç®¡ç†æ›´æ–¹ä¾¿
- âœ… æ‰“åŒ…åŽè‡ªåŠ¨åˆ›å»ºé…ç½®æ–‡ä»¶æ¨¡æ¿

#### æ–¹å¼äºŒï¼šjaråŒ…å†…éƒ¨é…ç½®

å¦‚æžœ `conf/config.properties` å¤–éƒ¨é…ç½®æ–‡ä»¶ä¸å­˜åœ¨ï¼Œç¨‹åºä¼šè‡ªåŠ¨ä»ŽjaråŒ…å†…éƒ¨åŠ è½½ `config.properties`ã€‚

**æ³¨æ„**ï¼šjaråŒ…å†…éƒ¨é…ç½®æ˜¯åªè¯»çš„ï¼Œæ— æ³•ä¿®æ”¹ï¼Œå»ºè®®ä½¿ç”¨å¤–éƒ¨é…ç½®æ–‡ä»¶ã€‚

**åˆ›å»ºå¤–éƒ¨é…ç½®æ–‡ä»¶**ï¼š

æ‰“åŒ…å®ŒæˆåŽï¼Œé…ç½®æ–‡ä»¶ä¼šè‡ªåŠ¨å¤åˆ¶åˆ° `conf/config.properties`ï¼Œç¼–è¾‘è¯¥æ–‡ä»¶å³å¯ï¼š

```properties
# æ•°æ®åº“è¿žæŽ¥é…ç½®
jdbc.url=jdbc:hive2://your-host:10000/default;transaction.type=inceptor;hive.server2.idle.session.timeout=64800000;hive.server2.idle.operation.timeout=3600000
jdbc.driver=org.apache.hive.jdbc.HiveDriver
jdbc.username=your_username
jdbc.password=your_password

# ç›®æ ‡è¡¨é…ç½®
inceptor.target.table.name=default.inceptor_stats_result_table

# å¹¶å‘é…ç½®
concurrency.level=10

# æ‰¹é‡é…ç½®
batch.size=500
result.queue.capacity=2000

# åˆ†é¡µé…ç½®
page.size=1000
task.queue.capacity=100000

# æŸ¥è¯¢SQLé…ç½®:ç”¨äºŽä»Žinceptorçš„ç³»ç»Ÿå­—å…¸è¡¨system.tables_vä¸­èŽ·å–æ‰€æœ‰çš„è¡¨æ¸…å•
# å¦‚æžœä¸éœ€è¦å¯¹æŸç±»åž‹çš„è¡¨è¿›è¡Œç»Ÿè®¡ï¼Œå†™å…¥NOT INä¸­ï¼Œä»¥æŽ’é™¤æŽ‰æŸäº›ç±»åž‹çš„è¡¨ï¼Œæ¯”å¦‚hyperbaseè¡¨
table.query.sql=SELECT CONCAT(database_name,'.',table_name) \
  FROM system.tables_v \
  WHERE table_format NOT IN ('io.transwarp.scope.ScopeInputFormat','io.transwarp.hyper2drive.HyperdriveInputFormat','hbase','hyperdrive','org.apache.hadoop.hive.ql.io.tdt.refactor.JDBCDBInputFormat') \
    AND database_name not in ('system')
```

### 3. è¿è¡Œç¨‹åº

#### æ–¹å¼ä¸€ï¼šä½¿ç”¨å¯åŠ¨è„šæœ¬ï¼ˆæŽ¨èï¼‰

**Windows:**
```bash
bin\start.bat
```

**Linux/Mac:**
```bash
chmod +x bin/start.sh
bin/start.sh
```

#### æ–¹å¼äºŒï¼šæ‰‹åŠ¨è¿è¡Œ

**Windows:**
```bash
java -cp "target\InceptorStatCollector-1.0-SNAPSHOT.jar;target\lib\*;libs\inceptor-driver-8.37.3.jar" io.transwarp.InceptorStatCollector
```

**Linux/Mac:**
```bash
java -cp "target/InceptorStatCollector-1.0-SNAPSHOT.jar:target/lib/*:libs/inceptor-driver-8.37.3.jar" io.transwarp.InceptorStatCollector
```

#### æ–¹å¼ä¸‰ï¼šä½¿ç”¨ Maven è¿è¡Œï¼ˆå¼€å‘çŽ¯å¢ƒï¼‰

```bash
mvn exec:java
```

**æ³¨æ„**ï¼šä½¿ç”¨ Maven è¿è¡Œæ—¶ï¼Œé…ç½®æ–‡ä»¶ä¼šä»Ž `src/main/resources/config.properties` åŠ è½½ã€‚

## é…ç½®è¯´æ˜Ž

### æ•°æ®åº“è¿žæŽ¥é…ç½®

| é…ç½®é¡¹ | è¯´æ˜Ž | ç¤ºä¾‹ |
|--------|------|------|
| `jdbc.url` | Inceptor/Hive JDBC è¿žæŽ¥ URL | `jdbc:hive2://host:port/database` |
| `jdbc.driver` | JDBC é©±åŠ¨ç±»å | `org.apache.hive.jdbc.HiveDriver` |
| `jdbc.username` | æ•°æ®åº“ç”¨æˆ·å | `hive` |
| `jdbc.password` | æ•°æ®åº“å¯†ç  | `password` |

### æ€§èƒ½é…ç½®

| é…ç½®é¡¹ | è¯´æ˜Ž | é»˜è®¤å€¼ | å»ºè®®å€¼ |
|--------|------|--------|--------|
| `concurrency.level` | å¹¶å‘æ‰§è¡Œ ANALYZE çš„å·¥ä½œçº¿ç¨‹æ•° | 10 | æ ¹æ®æ•°æ®åº“æ€§èƒ½è°ƒæ•´ï¼ˆ5-20ï¼‰ |
| `batch.size` | æ‰¹é‡å†™å…¥çš„è®°å½•æ•° | 500 | æ ¹æ®æ•°æ®é‡è°ƒæ•´ï¼ˆ200-1000ï¼‰ |
| `result.queue.capacity` | ç»“æžœé˜Ÿåˆ—å®¹é‡ | 2000 | å»ºè®®ä¸º batch.size çš„ 4-10 å€ |
| `page.size` | åˆ†é¡µæŸ¥è¯¢å¤§å° | 1000 | æ ¹æ®è¡¨æ•°é‡è°ƒæ•´ |
| `task.queue.capacity` | ä»»åŠ¡é˜Ÿåˆ—å®¹é‡ | 100000 | æ ¹æ®è¡¨æ•°é‡è°ƒæ•´ |

### ç›®æ ‡è¡¨é…ç½®

| é…ç½®é¡¹ | è¯´æ˜Ž | ç¤ºä¾‹ |
|--------|------|------|
| `inceptor.target.table.name` | å­˜å‚¨ç»Ÿè®¡ç»“æžœçš„ç›®æ ‡è¡¨å | `default.inceptor_stats_result_table` |

### æŸ¥è¯¢SQLé…ç½®

| é…ç½®é¡¹ | è¯´æ˜Ž |
|--------|------|
| `table.query.sql` | ç”¨äºŽæŸ¥è¯¢éœ€è¦ç»Ÿè®¡çš„è¡¨çš„ SQL è¯­å¥ |

**æ³¨æ„**ï¼šSQL æŸ¥è¯¢è¿”å›žçš„åˆ—åº”è¯¥æ˜¯è¡¨åï¼ˆæ ¼å¼ï¼š`database.table`ï¼‰ï¼Œç¨‹åºä¼šè‡ªåŠ¨ä¸ºæ¯ä¸ªè¡¨ç”Ÿæˆ `ANALYZE TABLE` å‘½ä»¤ã€‚

## å·¥ä½œåŽŸç†

### æž¶æž„è®¾è®¡

ç¨‹åºé‡‡ç”¨**ç”Ÿäº§è€…-æ¶ˆè´¹è€…æ¨¡å¼**ï¼š

1. **ç”Ÿäº§è€…ï¼ˆAnalyzeWorkerï¼‰**ï¼š
   - ä»Žä»»åŠ¡é˜Ÿåˆ—èŽ·å–è¡¨å
   - æ‰§è¡Œ `ANALYZE TABLE ... COMPUTE STATISTICS` å‘½ä»¤
   - è§£æžç»Ÿè®¡ç»“æžœå¹¶æ”¾å…¥ç»“æžœé˜Ÿåˆ—

2. **æ¶ˆè´¹è€…ï¼ˆResultBatchWriterï¼‰**ï¼š
   - ä»Žç»“æžœé˜Ÿåˆ—èŽ·å–ç»Ÿè®¡ç»“æžœ
   - æ‰¹é‡å†™å…¥ç›®æ ‡è¡¨
   - ä½¿ç”¨äº‹åŠ¡ä¿è¯æ•°æ®ä¸€è‡´æ€§

### æ‰§è¡Œæµç¨‹

```
1. ä»Ž system.tables_v åˆ†é¡µæŸ¥è¯¢è¡¨åˆ—è¡¨
   â†“
2. ç”Ÿæˆ ANALYZE TABLE å‘½ä»¤å¹¶åŠ å…¥ä»»åŠ¡é˜Ÿåˆ—
   â†“
3. å¤šä¸ªå·¥ä½œçº¿ç¨‹å¹¶å‘æ‰§è¡Œ ANALYZE å‘½ä»¤
   â†“
4. è§£æž ANALYZE è¿”å›žçš„ç»Ÿè®¡ä¿¡æ¯
   â†“
5. æ‰¹é‡å†™å…¥ç›®æ ‡è¡¨ï¼ˆæ‰¹é‡å¤§å°å¯é…ç½®ï¼‰
   â†“
6. å®Œæˆæ‰€æœ‰è¡¨çš„ç»Ÿè®¡
```

### åˆ†é¡µå®žçŽ°

ç”±äºŽ Inceptor/Hive ä¸æ”¯æŒ `OFFSET` è¯­æ³•ï¼Œç¨‹åºä½¿ç”¨ `ROW_NUMBER()` çª—å£å‡½æ•°å®žçŽ°åˆ†é¡µï¼š

```sql
SELECT table_name FROM (
  SELECT table_name, ROW_NUMBER() OVER (ORDER BY table_name) as rn 
  FROM (åŸºç¡€æŸ¥è¯¢SQL) base
) t WHERE rn > offset AND rn <= offset + pageSize
```

## ç›®æ ‡è¡¨ç»“æž„

ç¨‹åºä¼šè‡ªåŠ¨åˆ›å»ºç›®æ ‡è¡¨ï¼ˆå¦‚æžœä¸å­˜åœ¨ï¼‰ï¼Œè¡¨ç»“æž„å¦‚ä¸‹ï¼š

```sql
CREATE TABLE IF NOT EXISTS default.inceptor_stats_result_table (
    id STRING COMMENT 'å”¯ä¸€æ ‡è¯†',
    data_time STRING COMMENT 'æ’å…¥æ—¶é—´',
    data_day DATE COMMENT 'åˆ†åŒºæ—¶é—´',
    table_name STRING COMMENT 'è¡¨å',
    partition_name STRING COMMENT 'åˆ†åŒºåç§°',
    is_partition INT COMMENT 'æ˜¯å¦åˆ†åŒºè¡¨',
    numFiles INT COMMENT 'æ–‡ä»¶æ•°',
    numRows INT COMMENT 'è¡Œæ•°',
    totalSize BIGINT COMMENT 'æ€»å¤§å°(å­—èŠ‚)',
    rawDataSize BIGINT COMMENT 'åŽŸå§‹æ•°æ®å¤§å°(å­—èŠ‚)'
)
COMMENT 'å­˜æ”¾inceptoræ¯å¼ è¡¨çš„ç»Ÿè®¡ä¿¡æ¯'
PARTITIONED BY RANGE (data_day)
INTERVAL (numtoyminterval('1','month'))
CLUSTERED BY (id) INTO 11 BUCKETS STORED AS ORC
TBLPROPERTIES('transactional'='true')
```

## æ—¥å¿—é…ç½®

### æ—¥å¿—æ¡†æž¶

ç¨‹åºä½¿ç”¨ **SLF4J + Log4j** ä½œä¸ºæ—¥å¿—æ¡†æž¶ï¼Œæ‰€æœ‰æ—¥å¿—æ¶ˆæ¯å‡ä¸ºè‹±æ–‡ï¼Œé¿å…ä¸­æ–‡ä¹±ç é—®é¢˜ã€‚

### æ—¥å¿—é…ç½®æ–‡ä»¶

æ—¥å¿—é…ç½®æ–‡ä»¶ä½äºŽ `src/main/resources/log4j.properties`ï¼Œé»˜è®¤é…ç½®ï¼š

- **æŽ§åˆ¶å°è¾“å‡º**ï¼šINFO çº§åˆ«ï¼ŒUTF-8 ç¼–ç 
- **æ–‡ä»¶è¾“å‡º**ï¼š`D:/logs/inceptor-stat-collector.log`ï¼ˆå¯ä¿®æ”¹è·¯å¾„å’Œçº§åˆ«ï¼‰

### æ—¥å¿—çº§åˆ«è¯´æ˜Ž

| çº§åˆ« | è¯´æ˜Ž | ä½¿ç”¨åœºæ™¯ |
|------|------|----------|
| INFO | ä¿¡æ¯æ—¥å¿— | ç¨‹åºå¯åŠ¨ã€é…ç½®åŠ è½½ã€ä»»åŠ¡å®Œæˆã€ç»Ÿè®¡ä¿¡æ¯ |
| DEBUG | è°ƒè¯•æ—¥å¿— | è¯¦ç»†çš„æ‰§è¡Œè¿‡ç¨‹ã€SQLè¯­å¥ã€é˜Ÿåˆ—çŠ¶æ€ |
| WARN | è­¦å‘Šæ—¥å¿— | æ•°æ®è½¬æ¢å¤±è´¥ã€éžè‡´å‘½é”™è¯¯ |
| ERROR | é”™è¯¯æ—¥å¿— | å¼‚å¸¸æƒ…å†µã€ä»»åŠ¡å¤±è´¥ã€æ•°æ®åº“é”™è¯¯ |

### è¯¦ç»†æ—¥å¿—ä¿¡æ¯

ç¨‹åºæä¾›è¯¦ç»†çš„æ—¥å¿—è¾“å‡ºï¼ŒåŒ…æ‹¬ï¼š

#### 1. å¯åŠ¨æ—¥å¿—
- ç¨‹åºå¯åŠ¨æ—¶çš„é…ç½®ä¿¡æ¯ï¼ˆå¹¶å‘çº§åˆ«ã€æ‰¹é‡å¤§å°ã€é˜Ÿåˆ—å®¹é‡ç­‰ï¼‰
- è¿žæŽ¥æ± åˆå§‹åŒ–ä¿¡æ¯ï¼ˆåˆ†æžè¿žæŽ¥æ± å’Œå†™å…¥è¿žæŽ¥æ± çš„é…ç½®ï¼‰
- çº¿ç¨‹æ± å¯åŠ¨ä¿¡æ¯

#### 2. ä»»åŠ¡åŠ è½½æ—¥å¿—
- ä»»åŠ¡åŠ è½½å¼€å§‹å’Œç»“æŸ
- æ¯é¡µåŠ è½½çš„è¯¦ç»†ä¿¡æ¯ï¼ˆé¡µç ã€æ•°é‡ã€ç´¯è®¡æ€»æ•°ï¼‰
- æ€»ä»»åŠ¡æ•°ç»Ÿè®¡

#### 3. å·¥ä½œçº¿ç¨‹æ—¥å¿—ï¼ˆAnalyzeWorkerï¼‰
- æ¯ä¸ªå·¥ä½œçº¿ç¨‹å¯åŠ¨å’Œç»“æŸæ—¶çš„ç»Ÿè®¡ä¿¡æ¯
- æ¯ä¸ªä»»åŠ¡çš„å¤„ç†è¯¦æƒ…ï¼ˆä»»åŠ¡ç¼–å·ã€SQLã€è®°å½•æ•°ã€è§£æžæ•°ã€è€—æ—¶ï¼‰
- ä»»åŠ¡æˆåŠŸ/å¤±è´¥ç»Ÿè®¡
- çº¿ç¨‹ç»“æŸæ—¶çš„æ±‡æ€»ç»Ÿè®¡ï¼ˆå¤„ç†æ•°ã€æˆåŠŸæ•°ã€å¤±è´¥æ•°ã€æ€»è€—æ—¶ï¼‰

ç¤ºä¾‹è¾“å‡ºï¼š
```
INFO  AnalyzeWorker-1 started
INFO  AnalyzeWorker-1 completed task #1, SQL: ANALYZE TABLE test COMPUTE STATISTICS;, records: 10, parsed: 10, elapsed: 100ms
INFO  AnalyzeWorker-1 finished, processed: 10, success: 10, failure: 0, total elapsed: 1000ms (1s)
```

#### 4. æ‰¹é‡å†™å…¥æ—¥å¿—ï¼ˆResultBatchWriterï¼‰
- å†™å…¥çº¿ç¨‹å¯åŠ¨å’Œç»“æŸä¿¡æ¯
- é˜Ÿåˆ—çŠ¶æ€å®šæœŸè¾“å‡ºï¼ˆæ¯10ä¸ªæ‰¹æ¬¡è¾“å‡ºä¸€æ¬¡ï¼‰
- æ¯ä¸ªæ‰¹é‡å†™å…¥çš„è¯¦ç»†ä¿¡æ¯ï¼ˆæ‰¹æ¬¡å·ã€è®°å½•æ•°ã€æœ‰æ•ˆ/æ— æ•ˆè®°å½•æ•°ã€æ¶‰åŠçš„è¡¨æ•°ã€è€—æ—¶ï¼‰
- å†™å…¥çº¿ç¨‹ç»“æŸæ—¶çš„æ±‡æ€»ç»Ÿè®¡ï¼ˆæ€»æ‰¹æ¬¡ã€æ€»è®°å½•ã€å¤±è´¥æ‰¹æ¬¡ã€å¤±è´¥è®°å½•ã€æ€»è€—æ—¶ï¼‰

ç¤ºä¾‹è¾“å‡ºï¼š
```
INFO  ResultBatchWriter thread started
INFO  Batch #1 write successful, records: 100 (valid: 100, invalid: 0), tables: 10, elapsed: 200ms
INFO  ResultBatchWriter thread finished, total batches: 10, total records: 1000, failed batches: 0, failed records: 0, total elapsed: 5000ms (5s)
```

#### 5. ç¨‹åºç»“æŸæ—¥å¿—
- ç¨‹åºæ‰§è¡Œå®Œæˆæ—¶çš„æ€»è€—æ—¶ç»Ÿè®¡
- æ‰€æœ‰ä»»åŠ¡çš„æ±‡æ€»ä¿¡æ¯

ç¤ºä¾‹è¾“å‡ºï¼š
```
INFO  ========================================
INFO  InceptorStatCollector Completed
INFO  Total execution time: 5000ms (5 seconds)
INFO  ========================================
```

### æ—¥å¿—è¾“å‡ºä½ç½®

- **æŽ§åˆ¶å°**ï¼šå®žæ—¶æŸ¥çœ‹ç¨‹åºæ‰§è¡Œæƒ…å†µ
- **æ—¥å¿—æ–‡ä»¶**ï¼šæŒä¹…åŒ–ä¿å­˜ï¼Œä¾¿äºŽåŽç»­åˆ†æžå’ŒæŽ’æŸ¥é—®é¢˜

### æ—¥å¿—æ ¼å¼

æ—¥å¿—æ ¼å¼ï¼š`æ—¶é—´æˆ³ - è€—æ—¶ - çº§åˆ« [çº¿ç¨‹å] ç±»å:è¡Œå· - æ¶ˆæ¯å†…å®¹`

ç¤ºä¾‹ï¼š
```
2025-12-16 14:41:41,733 - 0    INFO  [main] io.transwarp.InceptorStatCollector:118  - Target table created/verified successfully
```

### è‡ªå®šä¹‰æ—¥å¿—é…ç½®

å¦‚éœ€ä¿®æ”¹æ—¥å¿—é…ç½®ï¼Œç¼–è¾‘ `src/main/resources/log4j.properties`ï¼š

- ä¿®æ”¹æ—¥å¿—çº§åˆ«ï¼šè°ƒæ•´ `log4j.rootLogger` çš„å€¼
- ä¿®æ”¹æ—¥å¿—æ–‡ä»¶è·¯å¾„ï¼šä¿®æ”¹ `log4j.appender.logfile.File` çš„å€¼
- ä¿®æ”¹æ—¥å¿—æ ¼å¼ï¼šè°ƒæ•´ `ConversionPattern` çš„å€¼

## é…ç½®æ–‡ä»¶åŠ è½½é¡ºåº

ç¨‹åºæŒ‰ä»¥ä¸‹é¡ºåºåŠ è½½é…ç½®æ–‡ä»¶ï¼š

1. **ä¼˜å…ˆ**ï¼š`conf/config.properties`ï¼ˆå¤–éƒ¨é…ç½®æ–‡ä»¶ï¼ŒæŽ¨èï¼‰
2. **å¤‡é€‰**ï¼šjaråŒ…å†…éƒ¨çš„ `config.properties`ï¼ˆæ‰“åŒ…æ—¶åŒ…å«çš„é»˜è®¤é…ç½®ï¼‰

å¦‚æžœå¤–éƒ¨é…ç½®æ–‡ä»¶å­˜åœ¨ï¼Œä¼šä¼˜å…ˆä½¿ç”¨å¤–éƒ¨é…ç½®ï¼›å¦‚æžœä¸å­˜åœ¨ï¼Œåˆ™ä½¿ç”¨jaråŒ…å†…éƒ¨çš„é»˜è®¤é…ç½®ã€‚

å¯åŠ¨æ—¶ä¼šæ˜¾ç¤ºåŠ è½½çš„é…ç½®æ–‡ä»¶è·¯å¾„ï¼š
```
INFO  Loaded configuration from external file: /path/to/conf/config.properties
```
æˆ–
```
INFO  Loaded configuration from jar internal
```

## å¸¸è§é—®é¢˜

### 1. é…ç½®æ–‡ä»¶æ‰¾ä¸åˆ°

**é—®é¢˜**ï¼šæç¤º"æœªæ‰¾åˆ°é…ç½®æ–‡ä»¶"

**è§£å†³æ–¹æ¡ˆ**ï¼š
- ç¡®ä¿ `conf/config.properties` æ–‡ä»¶å­˜åœ¨
- æ£€æŸ¥æ–‡ä»¶åæ˜¯å¦æ­£ç¡®ï¼ˆåŒºåˆ†å¤§å°å†™ï¼‰
- æ£€æŸ¥æ–‡ä»¶æƒé™ï¼ˆLinux/Macéœ€è¦è¯»å–æƒé™ï¼‰
- å¦‚æžœä½¿ç”¨å¤–éƒ¨é…ç½®æ–‡ä»¶ï¼Œç¡®ä¿ `conf` ç›®å½•åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹

### 2. è¿žæŽ¥æ•°æ®åº“å¤±è´¥

- æ£€æŸ¥æ•°æ®åº“æœåŠ¡å™¨æ˜¯å¦å¯è®¿é—®
- éªŒè¯ç”¨æˆ·åå’Œå¯†ç æ˜¯å¦æ­£ç¡®
- ç¡®è®¤ JDBC URL æ ¼å¼æ­£ç¡®
- æ£€æŸ¥ç½‘ç»œè¿žæŽ¥å’Œé˜²ç«å¢™è®¾ç½®

### 2. éƒ¨åˆ†è¡¨åˆ†æžå¤±è´¥

è¿™æ˜¯æ­£å¸¸çŽ°è±¡ï¼Œå¯èƒ½åŽŸå› ï¼š
- è¡¨ä¸å­˜åœ¨æˆ–å·²è¢«åˆ é™¤
- æƒé™ä¸è¶³
- è¡¨æ ¼å¼ä¸æ”¯æŒ ANALYZE å‘½ä»¤
- è¡¨æ­£åœ¨è¢«å…¶ä»–æ“ä½œé”å®š

ç¨‹åºä¼šè®°å½•é”™è¯¯æ—¥å¿—ï¼Œä½†ä¸ä¼šä¸­æ–­æ•´ä½“æµç¨‹ã€‚

### 3. å†…å­˜ä¸è¶³

å¦‚æžœé‡åˆ°å†…å­˜é—®é¢˜ï¼š
- å‡å° `concurrency.level`ï¼ˆå‡å°‘å¹¶å‘çº¿ç¨‹æ•°ï¼‰
- å‡å° `batch.size`ï¼ˆå‡å°‘æ‰¹é‡å†™å…¥å¤§å°ï¼‰
- å‡å° `result.queue.capacity`ï¼ˆå‡å°‘é˜Ÿåˆ—å®¹é‡ï¼‰
- å‡å° `page.size`ï¼ˆå‡å°‘åˆ†é¡µå¤§å°ï¼‰

### 4. SQL åˆ†é¡µé”™è¯¯

å¦‚æžœé‡åˆ° SQL è§£æžé”™è¯¯ï¼š
- ç¡®ä¿é…ç½®çš„ `table.query.sql` è¿”å›žå•åˆ—ï¼ˆè¡¨åï¼‰
- æ£€æŸ¥ SQL è¯­æ³•æ˜¯å¦ç¬¦åˆ Inceptor/Hive è§„èŒƒ
- ç¡®ä¿æŸ¥è¯¢çš„è¡¨æœ‰è®¿é—®æƒé™

## æ€§èƒ½ä¼˜åŒ–å»ºè®®

1. **å¹¶å‘çº§åˆ«**ï¼šæ ¹æ®æ•°æ®åº“æœåŠ¡å™¨æ€§èƒ½è°ƒæ•´ï¼Œå»ºè®®ä»Ž 5-10 å¼€å§‹ï¼Œé€æ­¥å¢žåŠ 
2. **æ‰¹é‡å¤§å°**ï¼šæ ¹æ®ç½‘ç»œå»¶è¿Ÿå’Œæ•°æ®åº“æ€§èƒ½è°ƒæ•´ï¼Œå»ºè®® 200-1000
3. **é˜Ÿåˆ—å®¹é‡**ï¼šç»“æžœé˜Ÿåˆ—å®¹é‡åº”è‡³å°‘ä¸ºæ‰¹é‡å¤§å°çš„ 4 å€
4. **è¿žæŽ¥æ± **ï¼šç¨‹åºå·²è‡ªåŠ¨é…ç½®è¿žæŽ¥æ± ï¼Œåˆ†æžå’Œå†™å…¥ä½¿ç”¨ç‹¬ç«‹è¿žæŽ¥æ± 

## ä¾èµ–é¡¹

- **HikariCP 3.4.5**ï¼šæ•°æ®åº“è¿žæŽ¥æ± 
- **SLF4J 1.7.25**ï¼šæ—¥å¿—æ¡†æž¶
- **Log4j 1.2.17**ï¼šæ—¥å¿—å®žçŽ°
- **Inceptor JDBC Driver**ï¼šInceptor æ•°æ®åº“é©±åŠ¨ï¼ˆéœ€è‡ªè¡Œæä¾›ï¼‰

## è®¸å¯è¯

æœ¬é¡¹ç›®ä»…ä¾›å†…éƒ¨ä½¿ç”¨ã€‚

## æ›´æ–°æ—¥å¿—

### v1.1
- âœ… æ·»åŠ è¯¦ç»†çš„æ—¥å¿—è¾“å‡ºåŠŸèƒ½
- âœ… æ‰€æœ‰æ—¥å¿—æ¶ˆæ¯æ”¹ä¸ºè‹±æ–‡ï¼Œè§£å†³ä¸­æ–‡ä¹±ç é—®é¢˜
- âœ… æ·»åŠ ç¨‹åºå¯åŠ¨ã€æ‰§è¡Œã€ç»“æŸçš„è¯¦ç»†æ—¥å¿—
- âœ… æ·»åŠ å·¥ä½œçº¿ç¨‹å’Œå†™å…¥çº¿ç¨‹çš„ç»Ÿè®¡æ—¥å¿—
- âœ… ä¼˜åŒ–æ—¥å¿—æ ¼å¼ï¼ŒåŒ…å«æ—¶é—´æˆ³ã€çº¿ç¨‹åã€ç±»åç­‰ä¿¡æ¯
- âœ… æ”¯æŒUTF-8ç¼–ç ï¼Œå…¼å®¹Windowså’ŒLinuxç³»ç»Ÿ

### v1.0
- åˆå§‹ç‰ˆæœ¬
- æ”¯æŒå¹¶å‘æ‰§è¡Œ ANALYZE å‘½ä»¤
- æ”¯æŒæ‰¹é‡å†™å…¥ç»Ÿè®¡ç»“æžœ
- ä½¿ç”¨ ROW_NUMBER() å®žçŽ°åˆ†é¡µï¼ˆå…¼å®¹ Hive/Inceptorï¼‰

## è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·è”ç³»å¼€å‘å›¢é˜Ÿã€‚

